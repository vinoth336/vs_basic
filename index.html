<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vs Vegetables - Fresh Farm to Door</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .language-switcher {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .cart-icon {
            position: relative;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.8rem;
            min-width: 18px;
            text-align: center;
        }



        /* Category Section */
        .category-section {
            background: #f8f9fa;
            padding: 30px 0;
        }

        .category-menu {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        }

        .category-tabs {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 10px 5px;
            scrollbar-width: thin;
            scrollbar-color: #28a745 #f1f1f1;
        }

        .category-tabs::-webkit-scrollbar {
            height: 6px;
        }

        .category-tabs::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .category-tabs::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 3px;
        }

        .tab-btn {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 2px solid #e0e0e0;
            padding: 15px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: 600;
            color: #333;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            flex-shrink: 0;
            min-width: fit-content;
        }

        .tab-btn i {
            font-size: 1.8rem;
            margin-bottom: 2px;
        }

        .tab-btn span {
            line-height: 1.2;
        }

        .tab-btn:hover {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border-color: #28a745;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(40, 167, 69, 0.3);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border-color: #28a745;
            box-shadow: 0 8px 15px rgba(40, 167, 69, 0.3);
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            text-align: center;
            padding: 4rem 0;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Products Section */
        .products-section {
            padding: 3rem 0;
            background: #f8f9fa;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #28a745;
            font-weight: 600;
        }

        .category-title {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: #28a745;
            font-weight: 600;
        }

        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(40, 167, 69, 0.2);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #e9ecef, #f8f9fa);
            border-radius: 10px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #28a745;
            position: relative;
            overflow: hidden;
        }

        .product-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .product-unit {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .product-price {
            font-size: 1.4rem;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 1rem;
        }

        .qty-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .qty-btn {
            width: 35px;
            height: 35px;
            border: 2px solid #28a745;
            background: white;
            color: #28a745;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .qty-btn:hover {
            background: #28a745;
            color: white;
        }

        .quantity {
            font-size: 1.2rem;
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }

        .add-to-cart-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }

        .add-to-cart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        /* Frozen Footer Cart */
        .frozen-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 20px rgba(0,0,0,0.1);
            z-index: 1000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .frozen-footer.show {
            transform: translateY(0);
        }

        .footer-cart-summary {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .footer-cart-info {
            display: flex;
            flex-direction: column;
        }

        .footer-cart-items {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .footer-cart-total {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .footer-cart-arrow {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .footer-cart-arrow.up {
            transform: rotate(180deg);
        }

        /* Order Summary Slide Up */
        .order-summary-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .order-summary-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .order-summary-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 20px 20px 0 0;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 1002;
        }

        .order-summary-panel.show {
            transform: translateY(0);
        }

        .order-summary-header {
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: white;
            z-index: 1003;
        }

        .order-summary-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #28a745;
        }

        .close-summary {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .order-summary-content {
            padding: 20px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #28a745;
            font-weight: bold;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .remove-item-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .order-total {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
        }

        .total-amount {
            font-size: 1.8rem;
            font-weight: bold;
            color: #28a745;
        }

        .delivery-time {
            margin: 20px 0;
        }

        .delivery-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .delivery-option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .delivery-option.selected {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .place-order-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 600;
            width: 100%;
            margin-top: 20px;
        }

        /* Contact Section */
        .contact {
            background: #28a745;
            color: white;
            padding: 3rem 0;
        }

        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .contact-item {
            text-align: center;
            padding: 2rem;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
        }

        .contact-item i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .products {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }

            .product-card {
                padding: 0.8rem;
            }

            .product-name {
                font-size: 0.9rem;
            }

            .product-price {
                font-size: 1rem;
            }

            .qty-btn {
                width: 30px;
                height: 30px;
                font-size: 1rem;
            }

            .category-section {
                padding: 20px 0;
            }

            .category-menu {
                padding: 15px;
            }

            .tab-btn {
                font-size: 0.7rem;
                padding: 10px 12px;
                min-width: 80px;
                gap: 4px;
            }

            .tab-btn i {
                font-size: 1.2rem;
            }

            .category-tabs {
                gap: 8px;
                padding: 8px;
            }

            .quantity-controls {
                gap: 6px;
                padding: 6px;
            }

            .qty-minus, .qty-plus {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }

            .qty-display {
                min-width: 35px;
                font-size: 1rem;
            }

            .search-filter-section {
                padding: 15px;
                margin-bottom: 20px;
            }

            .search-box {
                max-width: 100%;
            }

            .search-box input {
                padding: 12px 40px 12px 35px;
                font-size: 0.9rem;
            }

            .search-box i.fa-search {
                left: 12px;
                font-size: 1rem;
            }

            .clear-search {
                right: 12px;
            }



            .search-results-info {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .categories-submenu {
                padding: 15px 0;
                position: sticky;
                top: 0;
            }

            .submenu-header h3 {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }

            .submenu-categories {
                gap: 15px;
                padding: 0 20px;
            }

            .submenu-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                min-width: 130px;
            }

            .category-title {
                font-size: 1.4rem;
            }

            .delivery-options {
                grid-template-columns: 1fr;
            }

            .product-image {
                height: 120px;
                font-size: 2rem;
            }

            .language-switcher {
                min-width: 40px;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .products {
                gap: 0.5rem;
            }

            .product-card {
                padding: 0.6rem;
            }

            .product-name {
                font-size: 0.8rem;
            }

            .product-price {
                font-size: 0.9rem;
            }

            .product-image {
                height: 100px;
                font-size: 1.8rem;
            }
        }

        .category-section {
            display: none;
        }

        .category-section.active {
            display: block;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: #666;
        }

        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .add-to-cart-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Quantity Badge */
        .qty-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #dc3545, #c82333);
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.4);
            z-index: 10;
        }

        .product-card {
            cursor: pointer;
            user-select: none;
        }

        .product-card:active {
            transform: translateY(-3px) scale(0.98);
        }

        /* Quantity Controls */
        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 20px;
        }

        .qty-minus, .qty-plus {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .qty-minus:hover, .qty-plus:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        .qty-display {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
            color: #333;
        }

        .add-item-hint {
            text-align: center;
            color: #6c757d;
            font-size: 0.8rem;
            margin-top: 8px;
            padding: 4px;
        }

        /* Search and Filter Styles */
        .search-filter-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-box {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
        }

        .search-box i.fa-search {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-size: 1.1rem;
        }

        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 45px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .search-box input:focus {
            outline: none;
            border-color: #28a745;
            background: white;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }

        .clear-search {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #666;
            font-size: 1.1rem;
            cursor: pointer;
            display: none;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .clear-search:hover {
            background: #f0f0f0;
            color: #333;
        }

        .clear-search.show {
            display: block;
        }



        .search-results-info {
            background: #e8f5e8;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #155724;
            font-weight: 600;
        }

        .show-all-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .show-all-btn:hover {
            background: #218838;
        }

        /* Categories Submenu Styles */
        .categories-submenu {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px 0;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .submenu-header h3 {
            text-align: center;
            color: #28a745;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .submenu-categories {
            display: flex;
            overflow-x: auto;
            overflow-y: hidden;
            gap: 20px;
            padding: 0 30px;
            scroll-behavior: smooth;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }

        .submenu-categories::-webkit-scrollbar {
            display: none; /* Chrome, Safari and Opera */
        }

        .submenu-btn {
            background: white;
            color: #333;
            border: 2px solid #e0e0e0;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
            min-width: 140px;
            text-align: center;
        }

        .submenu-btn:hover {
            border-color: #28a745;
            color: #28a745;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
        }

        .submenu-btn.active {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border-color: #28a745;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .submenu-btn.active:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(40, 167, 69, 0.4);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="nav">
                <div class="logo" data-lang="logo">Vs Vegetables</div>
                <div class="nav-right">
                    <button class="language-switcher" id="languageSwitcher" onclick="toggleLanguage()">
                        à®¤
                    </button>
                    <div class="cart-icon" onclick="toggleOrderSummary()">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </div>
                </div>
            </nav>
        </div>
    </header>



    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 data-lang="heroTitle">Fresh Vegetables Delivered to Your Door</h1>
            <p data-lang="heroSubtitle">Farm-fresh produce delivered within hours. Quality guaranteed!</p>
        </div>
    </section>

    <!-- Category Menu Section -->
    <section class="category-section">
        <div class="container">
            <div class="category-menu">
                <div class="category-tabs" id="categoryTabs">
                    <button class="tab-btn active" onclick="showCategory('all')">
                        <i class="fas fa-th-large"></i>
                        <span data-lang="allCategories">All</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('ooty')">
                        <i class="fas fa-mountain"></i>
                        <span data-lang="ooty">Ooty Vegetables</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('country')">
                        <i class="fas fa-leaf"></i>
                        <span data-lang="country">Country Vegetables</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('onions')">
                        <i class="fas fa-circle"></i>
                        <span data-lang="onions">Onions & Small Onions</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('spinach')">
                        <i class="fas fa-seedling"></i>
                        <span data-lang="spinach">Spinach</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('coconuts')">
                        <i class="fas fa-coffee"></i>
                        <span data-lang="coconuts">Coconuts</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('nuts')">
                        <i class="fas fa-apple-alt"></i>
                        <span data-lang="nuts">Nuts & Dry Fruits</span>
                    </button>
                    <button class="tab-btn" onclick="showCategory('budget')">
                        <i class="fas fa-tag"></i>
                        <span data-lang="budget">Budget Veggies</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Submenu Section -->
    <section class="categories-submenu">
        <div class="container">
            <div class="submenu-header">
                <h3 data-lang="categoriesMenu">Categories</h3>
            </div>
            <div class="submenu-categories">
                <button class="submenu-btn active" onclick="showCategory('all')" data-lang="all">All Products</button>
                <button class="submenu-btn" onclick="showCategory('ooty')" data-lang="ooty">Ooty Vegetables</button>
                <button class="submenu-btn" onclick="showCategory('country')" data-lang="country">Country Vegetables</button>
                <button class="submenu-btn" onclick="showCategory('onions')" data-lang="onions">Onions & Small Onions</button>
                <button class="submenu-btn" onclick="showCategory('spinach')" data-lang="spinach">Spinach</button>
                <button class="submenu-btn" onclick="showCategory('coconuts')" data-lang="coconuts">Coconuts</button>
                <button class="submenu-btn" onclick="showCategory('budget')" data-lang="budget">Budget Veggies</button>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section">
        <div class="container">
            <h2 class="section-title" data-lang="productsTitle">Our Fresh Products</h2>
            
            <!-- Search and Filter Section -->
            <div class="search-filter-section">
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="Search vegetables..." data-lang-placeholder="searchPlaceholder">
                        <button class="clear-search" id="clearSearch" onclick="clearSearch()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

            </div>
            
            <!-- Search Results Info -->
            <div class="search-results-info" id="searchResultsInfo" style="display: none;">
                <span id="resultsCount">0</span> <span data-lang="resultsFound">results found</span>
                <button class="show-all-btn" onclick="showAllProducts()" data-lang="showAll">Show All</button>
            </div>
            
            <!-- Category Sections -->
            <div id="categoryContent">
                <!-- Categories will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact">
        <div class="container">
            <h2 class="section-title" data-lang="contactTitle">Contact Us</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <h3 data-lang="phone">Phone</h3>
                    <p>+91 83008 13853</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <h3 data-lang="email">Email</h3>
                    <p>orders@vsvegetables.com</p>
                </div>
                <div class="contact-item">
                    <i class="fab fa-whatsapp"></i>
                    <h3 data-lang="whatsapp">WhatsApp</h3>
                    <p>+91 83008 13853</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Frozen Footer Cart -->
    <div class="frozen-footer" id="frozenFooter">
        <div class="footer-cart-summary" onclick="toggleOrderSummary()">
            <div class="footer-cart-info">
                <div class="footer-cart-items" id="footerCartItems" data-lang="cartItems">0 items in cart</div>
                <div class="footer-cart-total" id="footerCartTotal">â‚¹0</div>
            </div>
            <div class="footer-cart-arrow" id="footerCartArrow">
                <i class="fas fa-chevron-up"></i>
            </div>
        </div>
    </div>

    <!-- Order Summary Overlay -->
    <div class="order-summary-overlay" id="orderSummaryOverlay" onclick="closeOrderSummary()">
        <div class="order-summary-panel" id="orderSummaryPanel" onclick="event.stopPropagation()">
            <div class="order-summary-header">
                <h3 class="order-summary-title" data-lang="orderSummary">Order Summary</h3>
                <button class="close-summary" onclick="closeOrderSummary()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="order-summary-content">
                <div id="cartItems">
                    <!-- Cart items will be populated here -->
                </div>
                
                <div class="order-total">
                    <div data-lang="total">Total: </div>
                    <div class="total-amount" id="orderTotal">â‚¹0</div>
                </div>

                <div class="delivery-time">
                    <h4 data-lang="deliveryTime">Select Delivery Time:</h4>
                    <div class="delivery-options">
                        <div class="delivery-option" onclick="selectDeliveryTime('Morning (6:00 to 9:00 AM)')">
                            <div data-lang="morning">Morning</div>
                            <div>6:00 to 9:00 AM</div>
                        </div>
                        <div class="delivery-option" onclick="selectDeliveryTime('Afternoon (1:30 to 2:30 PM)')">
                            <div data-lang="afternoon">Afternoon</div>
                            <div>1:30 to 2:30 PM</div>
                        </div>
                        <div class="delivery-option" onclick="selectDeliveryTime('Evening (After 7:00 PM)')">
                            <div data-lang="evening">Evening</div>
                            <div>After 7:00 PM</div>
                        </div>
                        <div class="delivery-option" onclick="selectDeliveryTime('Express (Next 30 minutes)')">
                            <div data-lang="express">Express</div>
                            <div data-lang="expressTime">Next 30 mins</div>
                        </div>
                    </div>
                </div>

                <button class="place-order-btn" onclick="placeOrder()" data-lang="placeOrder">
                    Place Order via WhatsApp
                </button>
            </div>
        </div>
    </div>

    <script>
        // Configuration JSON for products with units and localization
        const config = {
            products: {
                ooty: [
                    { 
                        name: { en: "Fresh Carrots", ta: "à®•à¯‡à®°à®Ÿà¯" }, 
                        price: 80, unit: "Kg", icon: "ðŸ¥•", image: null 
                    },
                    { 
                        name: { en: "Green Beans", ta: "à®ªà¯€à®©à¯à®¸à¯" }, 
                        price: 60, unit: "Kg", icon: "ðŸ«˜", image: null 
                    },
                    { 
                        name: { en: "Bell Peppers", ta: "à®•à¯à®Ÿà®®à®¿à®³à®•à®¾à®¯à¯" }, 
                        price: 120, unit: "Kg", icon: "ðŸ«‘", image: null 
                    }
                ],
                country: [
                    { 
                        name: { en: "Okra (Bhindi)", ta: "à®µà¯†à®£à¯à®Ÿà¯ˆà®•à¯à®•à®¾à®¯à¯" }, 
                        price: 40, unit: "Kg", icon: "ðŸŒ¶ï¸", image: null 
                    },
                    { 
                        name: { en: "Eggplant", ta: "à®•à®¤à¯à®¤à®°à®¿à®•à¯à®•à®¾à®¯à¯" }, 
                        price: 35, unit: "Kg", icon: "ðŸ†", image: null 
                    },
                    { 
                        name: { en: "Ridge Gourd", ta: "à®ªà¯€à®°à¯à®•à¯à®•à®™à¯à®•à®¾à®¯à¯" }, 
                        price: 45, unit: "Kg", icon: "ðŸ¥’", image: null 
                    }
                ],
                onions: [
                    { 
                        name: { en: "Big Onions", ta: "à®ªà¯†à®°à®¿à®¯ à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯" }, 
                        price: 30, unit: "Kg", icon: "ðŸ§…", image: null 
                    },
                    { 
                        name: { en: "Small Onions", ta: "à®šà®¿à®©à¯à®© à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯" }, 
                        price: 80, unit: "Kg", icon: "ðŸ§…", image: null 
                    },
                    { 
                        name: { en: "Red Onions", ta: "à®šà®¿à®µà®ªà¯à®ªà¯ à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯" }, 
                        price: 35, unit: "Kg", icon: "ðŸ§…", image: null 
                    }
                ],
                spinach: [
                    { 
                        name: { en: "Fresh Spinach", ta: "à®ªà®šà®²à¯ˆà®•à¯à®•à¯€à®°à¯ˆ" }, 
                        price: 25, unit: "Bunch", icon: "ðŸ¥¬", image: null 
                    },
                    { 
                        name: { en: "Mint Leaves", ta: "à®ªà¯à®¤à®¿à®©à®¾" }, 
                        price: 15, unit: "Bunch", icon: "ðŸŒ¿", image: null 
                    },
                    { 
                        name: { en: "Coriander", ta: "à®•à¯Šà®¤à¯à®¤à®®à®²à¯à®²à®¿" }, 
                        price: 10, unit: "Bunch", icon: "ðŸŒ¿", image: null 
                    }
                ],
                coconuts: [
                    { 
                        name: { en: "Fresh Coconut", ta: "à®¤à¯‡à®™à¯à®•à®¾à®¯à¯" }, 
                        price: 40, unit: "Pcs", icon: "ðŸ¥¥", image: null 
                    },
                    { 
                        name: { en: "Tender Coconut", ta: "à®‡à®³à®¨à¯€à®°à¯" }, 
                        price: 30, unit: "Pcs", icon: "ðŸ¥¥", image: null 
                    },
                    { 
                        name: { en: "Grated Coconut", ta: "à®¤à¯‡à®™à¯à®•à®¾à®¯à¯ à®¤à¯à®°à¯à®µà®²à¯" }, 
                        price: 25, unit: "Grams", icon: "ðŸ¥¥", image: null 
                    }
                ],
                nuts: [
                    { 
                        name: { en: "Almonds", ta: "à®ªà®¾à®¤à®¾à®®à¯" }, 
                        price: 800, unit: "Kg", icon: "ðŸ¥œ", image: null 
                    },
                    { 
                        name: { en: "Cashews", ta: "à®®à¯à®¨à¯à®¤à®¿à®°à®¿" }, 
                        price: 600, unit: "Kg", icon: "ðŸ¥œ", image: null 
                    },
                    { 
                        name: { en: "Dates", ta: "à®ªà¯‡à®°à¯€à®šà¯à®šà®®à¯à®ªà®´à®®à¯" }, 
                        price: 300, unit: "Kg", icon: "ðŸŒ°", image: null 
                    }
                ],
                budget: [
                    { 
                        name: { en: "Budget Tomatoes", ta: "à®¤à®•à¯à®•à®¾à®³à®¿ (à®ªà®Ÿà¯à®œà¯†à®Ÿà¯)" }, 
                        price: 20, unit: "Kg", icon: "ðŸ…", image: null 
                    },
                    { 
                        name: { en: "Budget Potatoes", ta: "à®‰à®°à¯à®³à¯ˆà®•à¯à®•à®¿à®´à®™à¯à®•à¯ (à®ªà®Ÿà¯à®œà¯†à®Ÿà¯)" }, 
                        price: 15, unit: "Kg", icon: "ðŸ¥”", image: null 
                    },
                    { 
                        name: { en: "Budget Onions", ta: "à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯ (à®ªà®Ÿà¯à®œà¯†à®Ÿà¯)" }, 
                        price: 18, unit: "Kg", icon: "ðŸ§…", image: null 
                    }
                ]
            },
            localization: {
                en: {
                    logo: "Vs Vegetables",
                    allCategories: "All",
                    ooty: "Ooty Vegetables",
                    country: "Country Vegetables",
                    onions: "Onions & Small Onions",
                    spinach: "Spinach",
                    coconuts: "Coconuts",
                    nuts: "Nuts & Dry Fruits",
                    budget: "Budget Veggies",
                    heroTitle: "Fresh Vegetables Delivered to Your Door",
                    heroSubtitle: "Farm-fresh produce delivered within hours. Quality guaranteed!",
                    productsTitle: "Our Fresh Products",
                    contactTitle: "Contact Us",
                    phone: "Phone",
                    email: "Email",
                    whatsapp: "WhatsApp",
                    addToCart: "Add to Cart",
                    cartItems: "items in cart",
                    orderSummary: "Order Summary",
                    total: "Total: ",
                    deliveryTime: "Select Delivery Time:",
                    morning: "Morning",
                    afternoon: "Afternoon",
                    evening: "Evening",
                    express: "Express",
                    expressTime: "Next 30 mins",
                    placeOrder: "Place Order via WhatsApp",
                    remove: "Remove",
                    searchPlaceholder: "Search vegetables...",
                    resultsFound: "results found",
                    showAll: "Show All",
                    categoriesMenu: "Categories"
                },

                ta: {
                    logo: "à®µà®¿.à®Žà®¸à¯ à®•à®¾à®¯à¯à®•à®±à®¿à®•à®³à¯",
                    allCategories: "à®…à®©à¯ˆà®¤à¯à®¤à¯à®®à¯",
                    ooty: "à®Šà®Ÿà¯à®Ÿà®¿ à®•à®¾à®¯à¯à®•à®±à®¿à®•à®³à¯",
                    country: "à®¨à®¾à®Ÿà¯à®Ÿà¯ à®•à®¾à®¯à¯à®•à®±à®¿à®•à®³à¯",
                    onions: "à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯ & à®šà®¿à®©à¯à®© à®µà¯†à®™à¯à®•à®¾à®¯à®®à¯",
                    spinach: "à®•à¯€à®°à¯ˆ à®µà®•à¯ˆà®•à®³à¯",
                    coconuts: "à®¤à¯‡à®™à¯à®•à®¾à®¯à¯",
                    nuts: "à®•à¯Šà®Ÿà¯à®Ÿà¯ˆà®•à®³à¯ & à®‰à®²à®°à¯ à®ªà®´à®™à¯à®•à®³à¯",
                    budget: "à®ªà®Ÿà¯à®œà¯†à®Ÿà¯ à®•à®¾à®¯à¯à®•à®±à®¿à®•à®³à¯",
                    heroTitle: "à®‰à®™à¯à®•à®³à¯ à®µà¯€à®Ÿà¯à®Ÿà¯ à®µà®¾à®šà®²à¯à®•à¯à®•à¯ à®ªà¯à®¤à®¿à®¯ à®•à®¾à®¯à¯à®•à®±à®¿à®•à®³à¯",
                    heroSubtitle: "à®µà®¯à®²à®¿à®²à¯ à®‡à®°à¯à®¨à¯à®¤à¯ à®µà¯€à®Ÿà¯ à®µà®°à¯ˆ, à®®à®£à®¿à®•à¯à®•à¯à®³à¯ à®Ÿà¯†à®²à®¿à®µà®°à®¿. à®¤à®°à®¤à¯à®¤à®¿à®±à¯à®•à¯ à®‰à®¤à¯à®¤à®°à®µà®¾à®¤à®®à¯!",
                    productsTitle: "à®Žà®™à¯à®•à®³à¯ à®ªà¯à®¤à®¿à®¯ à®ªà¯Šà®°à¯à®Ÿà¯à®•à®³à¯",
                    contactTitle: "à®Žà®™à¯à®•à®³à¯ˆ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à¯à®™à¯à®•à®³à¯",
                    phone: "à®¤à¯Šà®²à¯ˆà®ªà¯‡à®šà®¿",
                    email: "à®®à®¿à®©à¯à®©à®žà¯à®šà®²à¯",
                    whatsapp: "à®µà®¾à®Ÿà¯à®¸à¯à®†à®ªà¯",
                    addToCart: "à®•à®¾à®°à¯à®Ÿà¯à®Ÿà®¿à®²à¯ à®šà¯‡à®°à¯à®•à¯à®•",
                    cartItems: "à®•à®¾à®°à¯à®Ÿà¯à®Ÿà®¿à®²à¯ à®ªà¯Šà®°à¯à®Ÿà¯à®•à®³à¯",
                    orderSummary: "à®†à®°à¯à®Ÿà®°à¯ à®šà¯à®°à¯à®•à¯à®•à®®à¯",
                    total: "à®®à¯Šà®¤à¯à®¤à®®à¯: ",
                    deliveryTime: "à®Ÿà¯†à®²à®¿à®µà®°à®¿ à®¨à¯‡à®°à®®à¯ à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯:",
                    morning: "à®•à®¾à®²à¯ˆ",
                    afternoon: "à®®à®¤à®¿à®¯à®®à¯",
                    evening: "à®®à®¾à®²à¯ˆ",
                    express: "à®Žà®•à¯à®¸à¯à®ªà®¿à®°à®¸à¯",
                    expressTime: "à®…à®Ÿà¯à®¤à¯à®¤ 30 à®¨à®¿à®®à®¿à®Ÿà®™à¯à®•à®³à¯",
                    placeOrder: "à®µà®¾à®Ÿà¯à®¸à¯à®†à®ªà¯ à®®à¯‚à®²à®®à¯ à®†à®°à¯à®Ÿà®°à¯ à®šà¯†à®¯à¯à®¯à¯à®™à¯à®•à®³à¯",
                    remove: "à®…à®•à®±à¯à®±à¯",
                    searchPlaceholder: "à®•à®¾à®¯à¯à®•à®±à®¿à®•à®³à¯ˆà®¤à¯ à®¤à¯‡à®Ÿà¯à®™à¯à®•à®³à¯...",
                    resultsFound: "à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯ à®•à®¿à®Ÿà¯ˆà®¤à¯à®¤à®©",
                    showAll: "à®…à®©à¯ˆà®¤à¯à®¤à¯ˆà®¯à¯à®®à¯ à®•à®¾à®Ÿà¯à®Ÿà¯",
                    categoriesMenu: "à®µà®•à¯ˆà®•à®³à¯"
                }
            }
        };

        // Global variables
        let cart = {};
        let currentLanguage = 'en'; // Default to Tamil
        let currentCategory = 'all';
        let selectedDeliveryTime = '';
        let quantities = {};
        let searchQuery = '';

        let filteredProducts = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            updateLanguageButton();
            updateLanguage();
            setupSearchAndFilter();
            renderAllProducts(); // Start with showing all products
            updateCartDisplay();
        }

        // Language toggle functionality
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'ta' ? 'en' : 'ta';
            updateLanguageButton();
            updateLanguage();
        }

        function updateLanguageButton() {
            const languageBtn = document.getElementById('languageSwitcher');
            languageBtn.textContent = currentLanguage === 'ta' ? 'En' : 'à®¤';
        }



        function renderAllProducts() {
            const categoryContent = document.getElementById('categoryContent');
            const texts = config.localization[currentLanguage];
            let allProducts = [];

            // Collect all products from all categories
            Object.keys(config.products).forEach(category => {
                config.products[category].forEach((product, index) => {
                    allProducts.push({
                        ...product,
                        category: category,
                        originalIndex: index
                    });
                });
            });

            let html = `
                <div class="category-section active fade-in">
                    <h3 class="category-title">${texts.allCategories}</h3>
                    <div class="products">
            `;

            allProducts.forEach(product => {
                const productId = `${product.category}_${product.originalIndex}`;
                const quantity = quantities[productId] || 0;
                const productName = product.name[currentLanguage] || product.name.en;

                html += `
                    <div class="product-card" ${quantity === 0 ? `onclick="updateQuantity('${productId}', 1)"` : ''}>
                        <div class="product-image">
                            ${product.image ? `<img src="${product.image}" alt="${productName}">` : product.icon}
                        </div>
                        <h4 class="product-name">${productName}</h4>
                        <p class="product-unit">${product.unit}</p>
                        <p class="product-price">â‚¹${product.price}</p>
                        ${quantity > 0 ? `
                            <div class="quantity-controls">
                                <button class="qty-minus" onclick="event.stopPropagation(); updateQuantity('${productId}', -1)">âˆ’</button>
                                <span class="qty-display">${quantity}</span>
                                <button class="qty-plus" onclick="event.stopPropagation(); updateQuantity('${productId}', 1)">+</button>
                            </div>
                        ` : `
                            <div class="add-item-hint">Tap to add</div>
                        `}
                    </div>
                `;
            });

            html += '</div></div>';
            categoryContent.innerHTML = html;
        }

        // Category management
        function showCategory(category) {
            currentCategory = category;
            
            // Update active tab
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find the clicked button and add active class
            const clickedBtn = event.target.closest('.tab-btn');
            if (clickedBtn) {
                clickedBtn.classList.add('active');
            }
            
            if (category === 'all') {
                renderAllProducts();
            } else {
                renderCategory(category);
            }
        }

        function renderCategory(category) {
            if (category === 'all') {
                renderAllProducts();
                return;
            }

            const categoryContent = document.getElementById('categoryContent');
            const products = config.products[category];
            const texts = config.localization[currentLanguage];
            
            if (!products) {
                categoryContent.innerHTML = '<div class="no-results"><h3>Category not found</h3></div>';
                return;
            }
            
            let html = `
                <div class="category-section active fade-in">
                    <h3 class="category-title">${texts[category]}</h3>
                    <div class="products">
            `;
            
            products.forEach((product, index) => {
                const productId = `${category}_${index}`;
                const quantity = quantities[productId] || 0;
                const productName = product.name[currentLanguage] || product.name.en;
                
                html += `
                    <div class="product-card" ${quantity === 0 ? `onclick="updateQuantity('${productId}', 1)"` : ''}>
                        <div class="product-image">
                            ${product.image ? `<img src="${product.image}" alt="${productName}">` : product.icon}
                        </div>
                        <h4 class="product-name">${productName}</h4>
                        <p class="product-unit">${product.unit}</p>
                        <p class="product-price">â‚¹${product.price}</p>
                        ${quantity > 0 ? `
                            <div class="quantity-controls">
                                <button class="qty-minus" onclick="event.stopPropagation(); updateQuantity('${productId}', -1)">âˆ’</button>
                                <span class="qty-display">${quantity}</span>
                                <button class="qty-plus" onclick="event.stopPropagation(); updateQuantity('${productId}', 1)">+</button>
                            </div>
                        ` : `
                            <div class="add-item-hint">Tap to add</div>
                        `}
                    </div>
                `;
            });
            
            html += '</div></div>';
            categoryContent.innerHTML = html;
        }

        // Quantity management
        function updateQuantity(productId, change) {
            if (!quantities[productId]) quantities[productId] = 0;
            const oldQuantity = quantities[productId];
            quantities[productId] = Math.max(0, quantities[productId] + change);
            
            const [category, index] = productId.split('_');
            const product = config.products[category][parseInt(index)];
            
            // Handle cart updates based on quantity changes
            if (quantities[productId] > 0) {
                // Add or update cart
                if (cart[productId]) {
                    cart[productId].quantity = quantities[productId];
                } else {
                    cart[productId] = {
                        name: product.name,
                        price: product.price,
                        unit: product.unit,
                        quantity: quantities[productId],
                        category: category
                    };
                }
            } else {
                // Remove from cart when quantity is 0
                delete cart[productId];
            }
            
            // Re-render to update the display with reduced flickering
            if (searchQuery) {
                performSearch();
            } else if (currentCategory === 'all') {
                renderAllProducts();
            } else {
                renderCategory(currentCategory);
            }
            
            updateCartDisplay();
            if (Object.keys(cart).length > 0) {
                showFrozenFooter();
            } else {
                hideFrozenFooter();
            }
        }







        function removeFromCart(productId) {
            delete cart[productId];
            updateCartDisplay();
            updateOrderSummary();
            
            if (Object.keys(cart).length === 0) {
                hideFrozenFooter();
            }
        }

        function updateCartItemQuantity(productId, change) {
            if (!cart[productId]) return;
            
            cart[productId].quantity = Math.max(1, cart[productId].quantity + change);
            updateCartDisplay();
            updateOrderSummary();
        }

        // Cart display updates
        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const footerCartItems = document.getElementById('footerCartItems');
            const footerCartTotal = document.getElementById('footerCartTotal');
            const texts = config.localization[currentLanguage];
            
            const totalItems = Object.values(cart).reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = Object.values(cart).reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartCount.textContent = totalItems;
            footerCartItems.textContent = `${totalItems} ${texts.cartItems}`;
            footerCartTotal.textContent = `â‚¹${totalPrice}`;
        }

        function showFrozenFooter() {
            const frozenFooter = document.getElementById('frozenFooter');
            frozenFooter.classList.add('show');
        }

        function hideFrozenFooter() {
            const frozenFooter = document.getElementById('frozenFooter');
            frozenFooter.classList.remove('show');
        }

        // Order summary functionality
        function toggleOrderSummary() {
            const overlay = document.getElementById('orderSummaryOverlay');
            const panel = document.getElementById('orderSummaryPanel');
            const arrow = document.getElementById('footerCartArrow');
            
            if (overlay.classList.contains('show')) {
                closeOrderSummary();
            } else {
                overlay.classList.add('show');
                panel.classList.add('show');
                arrow.classList.add('up');
                updateOrderSummary();
            }
        }

        function closeOrderSummary() {
            const overlay = document.getElementById('orderSummaryOverlay');
            const panel = document.getElementById('orderSummaryPanel');
            const arrow = document.getElementById('footerCartArrow');
            
            overlay.classList.remove('show');
            panel.classList.remove('show');
            arrow.classList.remove('up');
        }

        function updateOrderSummary() {
            const cartItems = document.getElementById('cartItems');
            const orderTotal = document.getElementById('orderTotal');
            const texts = config.localization[currentLanguage];
            
            let html = '';
            let totalPrice = 0;
            
            Object.keys(cart).forEach(productId => {
                const item = cart[productId];
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                // Get localized product name
                const productName = typeof item.name === 'object' 
                    ? (item.name[currentLanguage] || item.name.en)
                    : item.name;
                
                html += `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${productName}</div>
                            <div class="cart-item-price">â‚¹${item.price} Ã— ${item.quantity} = â‚¹${itemTotal}</div>
                        </div>
                        <div class="cart-item-controls">
                            <button class="qty-btn" onclick="updateCartItemQuantity('${productId}', -1)">âˆ’</button>
                            <span class="quantity">${item.quantity}</span>
                            <button class="qty-btn" onclick="updateCartItemQuantity('${productId}', 1)">+</button>
                            <button class="remove-item-btn" onclick="removeFromCart('${productId}')">${texts.remove}</button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = html;
            orderTotal.textContent = `â‚¹${totalPrice}`;
        }

        // Delivery time selection
        function selectDeliveryTime(time) {
            selectedDeliveryTime = time;
            document.querySelectorAll('.delivery-option').forEach(option => {
                option.classList.remove('selected');
            });
            // Find the clicked delivery option element and add selected class
            const clickedOption = event.target.closest('.delivery-option');
            if (clickedOption) {
                clickedOption.classList.add('selected');
            }
        }

        // Place order functionality
        function placeOrder() {
            if (Object.keys(cart).length === 0) {
                alert('Please add items to cart first');
                return;
            }
            
            if (!selectedDeliveryTime) {
                alert('Please select delivery time');
                return;
            }
            
            let message = 'New Order from Vs Vegetables:\n\n';
            
            let sno = 1;
            Object.keys(cart).forEach(productId => {
                const item = cart[productId];
                const itemTotal = item.price * item.quantity;
                
                // Get localized product name
                const productName = typeof item.name === 'object' 
                    ? (item.name[currentLanguage] || item.name.en)
                    : item.name;
                
                message += `${sno}. ${productName}: ${item.quantity} Ã— â‚¹${item.price} = â‚¹${itemTotal}\n`;
                sno++;
            });
            
            const totalPrice = Object.values(cart).reduce((sum, item) => sum + (item.price * item.quantity), 0);
            message += `\nTotal: â‚¹${totalPrice}\n`;
            message += `Delivery Time: ${selectedDeliveryTime}\n\n`;
            message += 'Thank you for choosing Vs Vegetables!';
            
            const phoneNumber = '918300813853';
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            
            window.open(whatsappUrl, '_blank');
        }

        // Search and Filter Functionality
        function setupSearchAndFilter() {
            const searchInput = document.getElementById('searchInput');
            const clearSearch = document.getElementById('clearSearch');
            
            // Search functionality with debouncing
            let searchTimeout;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    searchQuery = this.value.toLowerCase().trim();
                    
                    if (searchQuery.length > 0) {
                        clearSearch.classList.add('show');
                    } else {
                        clearSearch.classList.remove('show');
                    }
                    
                    performSearch();
                }, 300);
            });

            // Update placeholder text when language changes
            updateSearchPlaceholder();
        }

        function updateSearchPlaceholder() {
            const searchInput = document.getElementById('searchInput');
            const texts = config.localization[currentLanguage];
            if (searchInput && texts.searchPlaceholder) {
                searchInput.placeholder = texts.searchPlaceholder;
            }
        }

        function clearSearch() {
            const searchInput = document.getElementById('searchInput');
            const clearSearch = document.getElementById('clearSearch');
            
            searchInput.value = '';
            searchQuery = '';
            clearSearch.classList.remove('show');
            
            performSearch();
        }

        function performSearch() {
            // Get all products
            const allProducts = getAllProductsArray();
            
            // Apply search filter
            let results = allProducts;
            if (searchQuery) {
                results = results.filter(product => {
                    const productName = (product.name[currentLanguage] || product.name.en).toLowerCase();
                    const categoryName = config.localization[currentLanguage][product.category]?.toLowerCase() || '';
                    return productName.includes(searchQuery) || categoryName.includes(searchQuery);
                });
            }
            
            // Store filtered results
            filteredProducts = results;
            
            // Show search results
            if (searchQuery) {
                showSearchResults(results);
            } else {
                document.getElementById('searchResultsInfo').style.display = 'none';
                if (currentCategory === 'all') {
                    renderAllProducts();
                } else {
                    renderCategory(currentCategory);
                }
            }
        }

        function getAllProductsArray() {
            const allProducts = [];
            Object.keys(config.products).forEach(category => {
                config.products[category].forEach((product, index) => {
                    allProducts.push({
                        ...product,
                        category: category,
                        originalIndex: index
                    });
                });
            });
            return allProducts;
        }

        function showSearchResults(results) {
            const categoryContent = document.getElementById('categoryContent');
            const searchResultsInfo = document.getElementById('searchResultsInfo');
            const resultsCount = document.getElementById('resultsCount');
            const texts = config.localization[currentLanguage];
            
            // Update results count
            resultsCount.textContent = results.length;
            searchResultsInfo.style.display = 'flex';
            
            if (results.length === 0) {
                categoryContent.innerHTML = `
                    <div class="no-results">
                        <h3>No products found</h3>
                        <p>Try adjusting your search or filters</p>
                    </div>
                `;
                return;
            }
            
            // Render filtered products
            let html = `
                <div class="category-section active fade-in">
                    <h3 class="category-title">Search Results</h3>
                    <div class="products">
            `;
            
            results.forEach(product => {
                const productId = `${product.category}_${product.originalIndex}`;
                const quantity = quantities[productId] || 0;
                const productName = product.name[currentLanguage] || product.name.en;
                
                html += `
                    <div class="product-card" ${quantity === 0 ? `onclick="updateQuantity('${productId}', 1)"` : ''}>
                        <div class="product-image">
                            ${product.image ? `<img src="${product.image}" alt="${productName}">` : product.icon}
                        </div>
                        <h4 class="product-name">${productName}</h4>
                        <p class="product-unit">${product.unit}</p>
                        <p class="product-price">â‚¹${product.price}</p>
                        ${quantity > 0 ? `
                            <div class="quantity-controls">
                                <button class="qty-minus" onclick="event.stopPropagation(); updateQuantity('${productId}', -1)">âˆ’</button>
                                <span class="qty-display">${quantity}</span>
                                <button class="qty-plus" onclick="event.stopPropagation(); updateQuantity('${productId}', 1)">+</button>
                            </div>
                        ` : `
                            <div class="add-item-hint">Tap to add</div>
                        `}
                    </div>
                `;
            });
            
            html += '</div></div>';
            categoryContent.innerHTML = html;
        }

        function showAllProducts() {
            // Clear search
            const searchInput = document.getElementById('searchInput');
            const clearSearch = document.getElementById('clearSearch');
            
            searchInput.value = '';
            searchQuery = '';
            clearSearch.classList.remove('show');
            
            // Hide search results info
            document.getElementById('searchResultsInfo').style.display = 'none';
            
            // Show all products
            currentCategory = 'all';
            renderAllProducts();
            
            // Update active category button
            updateSubmenuButtons('all');
        }

        function showCategory(category) {
            // Clear search
            const searchInput = document.getElementById('searchInput');
            const clearSearch = document.getElementById('clearSearch');
            
            searchInput.value = '';
            searchQuery = '';
            clearSearch.classList.remove('show');
            
            // Hide search results info
            document.getElementById('searchResultsInfo').style.display = 'none';
            
            // Update category and render
            currentCategory = category;
            if (category === 'all') {
                renderAllProducts();
            } else {
                renderCategory(category);
            }
            
            // Update active category button
            updateSubmenuButtons(category);
        }

        function updateSubmenuButtons(activeCategory) {
            document.querySelectorAll('.submenu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find and activate the correct button
            document.querySelectorAll('.submenu-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick');
                if (onclick && onclick.includes(`'${activeCategory}'`)) {
                    btn.classList.add('active');
                }
            });
        }

        // Update language function to handle search placeholders
        function updateLanguage() {
            const texts = config.localization[currentLanguage];
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.getAttribute('data-lang');
                if (texts[key]) {
                    element.textContent = texts[key];
                }
            });
            
            // Update search placeholder
            updateSearchPlaceholder();
            
            // Re-render current view
            if (searchQuery) {
                performSearch();
            } else if (currentCategory === 'all') {
                renderAllProducts();
            } else {
                renderCategory(currentCategory);
            }
            updateCartDisplay();
        }
    </script>
</body>
</html>
